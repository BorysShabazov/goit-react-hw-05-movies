{"version":3,"file":"static/js/608.8820cfb6.chunk.js","mappings":"0NACA,EAAwB,sBAAxB,EAAuD,uBAAvD,EAAsF,sBAAtF,EAAmH,qBAAnH,EAA+I,qBAA/I,EAA2K,qBAA3K,EAA4M,0BAA5M,EAA4O,oBAA5O,EAAwQ,sBAAxQ,EAA+S,+B,SC4E/S,EAzEe,WACb,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAuCC,EAAAA,EAAAA,MAAvC,eAAOC,EAAP,KAAoBC,EAApB,KACMC,EAAUF,EAAYG,IAAI,OAAS,GACnCC,GAAWC,EAAAA,EAAAA,MAEXC,EAAQC,EAAQ,KAChBC,EAAG,0DAAsDN,EAAtD,+CAETO,EAAAA,EAAAA,YAAU,WAURH,EAAME,EATU,CACdE,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,gOAKHC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAR,IACRF,MAAK,SAAAE,GAAI,OAAIlB,EAAUkB,EAAKC,QAAnB,IACTC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAM,SAAWF,EAA7B,GACb,GAAE,CAACX,EAAKF,IAWT,IAAMgB,EAAgBzB,EAAO0B,QAAO,SAAAC,GAAK,OACvCA,EAAMC,MAAMC,cAAcC,SAASzB,EADI,IAIzC,OACE,iBAAK0B,UAAWC,EAAhB,WACE,kBAAMC,OAAO,SAASC,SAf1B,SAAqBC,GAEnB,GADAA,EAAEC,kBACGD,EAAEE,cAAcC,YAAYC,MAC/B,OAAOnC,EAAgB,CAAC,GAE1BA,EAAgB,CAAEoC,GAAIL,EAAEE,cAAcC,YAAYC,QAClDJ,EAAEE,cAAcC,YAAYC,MAAQ,EACrC,EAQgDR,UAAWC,EAAxD,WACE,4BACE,kBAAOS,KAAK,cAAcC,KAAK,OAAOX,UAAWC,OAEnD,mBAAQD,UAAWC,EAAnB,uBAEDhC,EAAO2C,QACN,eAAIZ,UAAWC,EAAf,SACGP,EAAcmB,KAAI,SAAAC,GAAE,OACnB,eAAId,UAAWC,EAAf,UACE,SAAC,KAAD,CAASc,GAAE,UAAKD,EAAGL,IAAMO,MAAO,CAAEC,KAAMzC,GAAxC,UACE,iBAAKwB,UAAWC,EAAhB,WACE,gBAAKD,UAAWC,EAAhB,UACE,gBACED,UAAWC,EACXiB,IAAG,0CAAqCJ,EAAGK,aAC3CC,IAAI,cAIR,eAAGpB,UAAWC,EAAd,cAA4Ba,EAAGjB,eAXNiB,EAAGL,GADf,OAmBvB,wCAIP,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie\":\"Movies_movie__HIhge\",\"search\":\"Movies_search__VjLZn\",\"input\":\"Movies_input__KrUqs\",\"form\":\"Movies_form__4ow+Z\",\"list\":\"Movies_list__hqYjd\",\"item\":\"Movies_item__Ba4aJ\",\"itemThomb\":\"Movies_itemThomb__CFpkn\",\"img\":\"Movies_img__8sw1H\",\"title\":\"Movies_title__MDLXB\",\"placeholderImg\":\"Movies_placeholderImg__FeUgc\"};","import { useEffect, useState } from 'react';\nimport { NavLink, useLocation, useSearchParams } from 'react-router-dom';\nimport stls from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [serchParams, setSearchParams] = useSearchParams();\n  const movieId = serchParams.get('id') || '';\n  const location = useLocation();\n\n  const fetch = require('node-fetch');\n  const url = `https://api.themoviedb.org/3/search/movie?query=${movieId}&include_adult=false&language=en-US&page=1`;\n\n  useEffect(() => {\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization:\n          'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZTQ0NDgyOGYwNjk5ZTMzNjcyZDA1MzE5MjZhMWQzOCIsInN1YiI6IjY0ZGZhNDIyYWFlYzcxMDNmYTQ4MWI0MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Yoq_TkMt1jtJtcXp72OXwP7KSig9Xfej9pwn74DL244',\n      },\n    };\n\n    fetch(url, options)\n      .then(res => res.json())\n      .then(json => setMovies(json.results))\n      .catch(err => console.error('error:' + err));\n  }, [url, fetch]);\n\n  function searchMovie(e) {\n    e.preventDefault();\n    if (!e.currentTarget.searchValue.value) {\n      return setSearchParams({});\n    }\n    setSearchParams({ id: e.currentTarget.searchValue.value });\n    e.currentTarget.searchValue.value = '';\n  }\n\n  const visibleMovies = movies.filter(movie =>\n    movie.title.toLowerCase().includes(movieId)\n  );\n\n  return (\n    <div className={stls.movie}>\n      <form action=\"submit\" onSubmit={searchMovie} className={stls.form}>\n        <label>\n          <input name=\"searchValue\" type=\"text\" className={stls.input} />\n        </label>\n        <button className={stls.search}>Search</button>\n      </form>\n      {movies.length ? (\n        <ul className={stls.list}>\n          {visibleMovies.map(el => (\n            <li className={stls.item} key={el.id}>\n              <NavLink to={`${el.id}`} state={{ from: location }}>\n                <div className={stls.itemThomb}>\n                  <div className={stls.placeholderImg}>\n                    <img\n                      className={stls.img}\n                      src={`https://image.tmdb.org/t/p/w200/${el.poster_path}`}\n                      alt=\"poster\"\n                    />\n                  </div>\n\n                  <p className={stls.title}> {el.title}</p>\n                </div>\n              </NavLink>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <h2>Not Found</h2>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["useState","movies","setMovies","useSearchParams","serchParams","setSearchParams","movieId","get","location","useLocation","fetch","require","url","useEffect","method","headers","accept","Authorization","then","res","json","results","catch","err","console","error","visibleMovies","filter","movie","title","toLowerCase","includes","className","stls","action","onSubmit","e","preventDefault","currentTarget","searchValue","value","id","name","type","length","map","el","to","state","from","src","poster_path","alt"],"sourceRoot":""}